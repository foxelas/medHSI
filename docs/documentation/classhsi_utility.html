<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MedHSI for MATLAB: hsiUtility Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="med.png"/></td>
  <td id="projectalign">
   <div id="projectname">MedHSI for MATLAB<span id="projectnumber">&#160;v.0.1</span>
   </div>
   <div id="projectbrief">Hyper-Spectral Image (HSI) Processing for medical images in gross pathology</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classhsi_utility-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">hsiUtility Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="classhsi_utility.html" title="hsiUtility is a class that holds all utility static functions that handle hsi objects.">hsiUtility</a> is a class that holds all utility static functions that handle hsi objects.  
 <a href="classhsi_utility.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a1bb8c2a28e270c0623ab809d1aa7862b"><td class="memItemLeft" align="right" valign="top">static function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhsi_utility.html#a1bb8c2a28e270c0623ab809d1aa7862b">LoadHsiAndLabel</a> (in targetID)</td></tr>
<tr class="memdesc:a1bb8c2a28e270c0623ab809d1aa7862b"><td class="mdescLeft">&#160;</td><td class="mdescRight">LoadHsiAndLabel loads both hsi and <a class="el" href="classhsi_info.html" title="hsiInfo is a class that holds tumor labels and diagnosis information.">hsiInfo</a> objects.  <a href="classhsi_utility.html#a1bb8c2a28e270c0623ab809d1aa7862b">More...</a><br /></td></tr>
<tr class="separator:a1bb8c2a28e270c0623ab809d1aa7862b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6a2ac88ad3209e2aa3140bf7cbe34bb"><td class="memItemLeft" align="right" valign="top">static function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhsi_utility.html#ac6a2ac88ad3209e2aa3140bf7cbe34bb">GetWavelengths</a> (in m, in option)</td></tr>
<tr class="memdesc:ac6a2ac88ad3209e2aa3140bf7cbe34bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">GetWavelengths returns the wavelengths of the hyperspectral image.  <a href="classhsi_utility.html#ac6a2ac88ad3209e2aa3140bf7cbe34bb">More...</a><br /></td></tr>
<tr class="separator:ac6a2ac88ad3209e2aa3140bf7cbe34bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a3aaf34f5078a9bb8f6a803eed38137"><td class="memItemLeft" align="right" valign="top">static function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhsi_utility.html#a0a3aaf34f5078a9bb8f6a803eed38137">ReadH5</a> (in filename)</td></tr>
<tr class="memdesc:a0a3aaf34f5078a9bb8f6a803eed38137"><td class="mdescLeft">&#160;</td><td class="mdescRight">ReadH5 loads the hyperspectral image from an .h5 file.  <a href="classhsi_utility.html#a0a3aaf34f5078a9bb8f6a803eed38137">More...</a><br /></td></tr>
<tr class="separator:a0a3aaf34f5078a9bb8f6a803eed38137"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a149b306c9267ea9b0993d3eb50d8e9d4"><td class="memItemLeft" align="right" valign="top">static function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhsi_utility.html#a149b306c9267ea9b0993d3eb50d8e9d4">ReadTriplet</a> (in varargin)</td></tr>
<tr class="memdesc:a149b306c9267ea9b0993d3eb50d8e9d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">ReadTriplet reads and saves the three hyperspectral images.  <a href="classhsi_utility.html#a149b306c9267ea9b0993d3eb50d8e9d4">More...</a><br /></td></tr>
<tr class="separator:a149b306c9267ea9b0993d3eb50d8e9d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac23da506cbad781848029a1397a64d35"><td class="memItemLeft" align="right" valign="top">static function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhsi_utility.html#ac23da506cbad781848029a1397a64d35">LoadRaw</a> (in targetID)</td></tr>
<tr class="memdesc:ac23da506cbad781848029a1397a64d35"><td class="mdescLeft">&#160;</td><td class="mdescRight">LoadRaw loads the raw hyperspectral image.  <a href="classhsi_utility.html#ac23da506cbad781848029a1397a64d35">More...</a><br /></td></tr>
<tr class="separator:ac23da506cbad781848029a1397a64d35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bc7e5ca82b98a92f207882230a8af3b"><td class="memItemLeft" align="right" valign="top">static function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhsi_utility.html#a1bc7e5ca82b98a92f207882230a8af3b">ExportH5Dataset</a> ()</td></tr>
<tr class="memdesc:a1bc7e5ca82b98a92f207882230a8af3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">ExportH5Dataset exports the entire selected dataset in .hdf5 format.  <a href="classhsi_utility.html#a1bc7e5ca82b98a92f207882230a8af3b">More...</a><br /></td></tr>
<tr class="separator:a1bc7e5ca82b98a92f207882230a8af3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a682a0948281f0c712db7ba065f1022b1"><td class="memItemLeft" align="right" valign="top">static function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhsi_utility.html#a682a0948281f0c712db7ba065f1022b1">PrepareDataset</a> (in varargin)</td></tr>
<tr class="memdesc:a682a0948281f0c712db7ba065f1022b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">ReadDataset reads the dataset.  <a href="classhsi_utility.html#a682a0948281f0c712db7ba065f1022b1">More...</a><br /></td></tr>
<tr class="separator:a682a0948281f0c712db7ba065f1022b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7e99c886a5e9791ea9a74f843d54fe5"><td class="memItemLeft" align="right" valign="top">static function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhsi_utility.html#aa7e99c886a5e9791ea9a74f843d54fe5">LoadHSIReference</a> (in targetId, in refType)</td></tr>
<tr class="memdesc:aa7e99c886a5e9791ea9a74f843d54fe5"><td class="mdescLeft">&#160;</td><td class="mdescRight">LoadHSIReference reads the reference hyperspectral image (white or black).  <a href="classhsi_utility.html#aa7e99c886a5e9791ea9a74f843d54fe5">More...</a><br /></td></tr>
<tr class="separator:aa7e99c886a5e9791ea9a74f843d54fe5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38a46d4e980e817be78b62dfddebc66b"><td class="memItemLeft" align="right" valign="top">static function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhsi_utility.html#a38a46d4e980e817be78b62dfddebc66b">PrepareReferenceLibrary</a> (in refIDs)</td></tr>
<tr class="memdesc:a38a46d4e980e817be78b62dfddebc66b"><td class="mdescLeft">&#160;</td><td class="mdescRight">PrepareReferenceLibrary reads and prepares a library of spectral references.  <a href="classhsi_utility.html#a38a46d4e980e817be78b62dfddebc66b">More...</a><br /></td></tr>
<tr class="separator:a38a46d4e980e817be78b62dfddebc66b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae22f06bef9465e5225ea0b68cd88c17a"><td class="memItemLeft" align="right" valign="top">static function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhsi_utility.html#ae22f06bef9465e5225ea0b68cd88c17a">GetReferenceLibrary</a> ()</td></tr>
<tr class="memdesc:ae22f06bef9465e5225ea0b68cd88c17a"><td class="mdescLeft">&#160;</td><td class="mdescRight">GetReferenceLibrary loads a library of spectral references.  <a href="classhsi_utility.html#ae22f06bef9465e5225ea0b68cd88c17a">More...</a><br /></td></tr>
<tr class="separator:ae22f06bef9465e5225ea0b68cd88c17a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p ><a class="el" href="classhsi_utility.html" title="hsiUtility is a class that holds all utility static functions that handle hsi objects.">hsiUtility</a> is a class that holds all utility static functions that handle hsi objects. </p>
<p >It is used to import, export and process hsi information. It works in tandem with the hsi and <a class="el" href="classhsi_info.html" title="hsiInfo is a class that holds tumor labels and diagnosis information.">hsiInfo</a> classes. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a1bc7e5ca82b98a92f207882230a8af3b" name="a1bc7e5ca82b98a92f207882230a8af3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bc7e5ca82b98a92f207882230a8af3b">&#9670;&nbsp;</a></span>ExportH5Dataset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static function ExportH5Dataset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>ExportH5Dataset exports the entire selected dataset in .hdf5 format. </p>
<p >This function aggregates all small .mat files in a large .hdf5 dataset. The dataset is assumed from config::[matDir]\[dataset]\*.mat. After reading, the image is saved in config::[outputDir]\[datasets]\*.h5.</p>
<p ><b>Usage</b> </p>
<div class="fragment"><div class="line"><a class="code hl_class" href="classconfig.html">config</a>.<a class="code hl_function" href="classconfig.html#a1450029ed6a15647ac90d8a9002d9572">SetSetting</a>(<span class="stringliteral">&#39;dataset&#39;</span>, <span class="stringliteral">&#39;coreDataset&#39;</span>);</div>
<div class="line"><a class="code hl_class" href="classhsi_utility.html">hsiUtility</a>.<a class="code hl_function" href="classhsi_utility.html#a1bc7e5ca82b98a92f207882230a8af3b">ExportH5Dataset</a>();</div>
<div class="ttc" id="aclassconfig_html"><div class="ttname"><a href="classconfig.html">config</a></div><div class="ttdoc">config is a class that holds the run configuration.</div><div class="ttdef"><b>Definition:</b> config.m:9</div></div>
<div class="ttc" id="aclassconfig_html_a1450029ed6a15647ac90d8a9002d9572"><div class="ttname"><a href="classconfig.html#a1450029ed6a15647ac90d8a9002d9572">config::SetSetting</a></div><div class="ttdeci">static function SetSetting(in parameter, in value)</div><div class="ttdoc">SetSetting sets a value in the config structure.</div></div>
<div class="ttc" id="aclasshsi_utility_html"><div class="ttname"><a href="classhsi_utility.html">hsiUtility</a></div><div class="ttdoc">hsiUtility is a class that holds all utility static functions that handle hsi objects.</div><div class="ttdef"><b>Definition:</b> hsiUtility.m:9</div></div>
<div class="ttc" id="aclasshsi_utility_html_a1bc7e5ca82b98a92f207882230a8af3b"><div class="ttname"><a href="classhsi_utility.html#a1bc7e5ca82b98a92f207882230a8af3b">hsiUtility::ExportH5Dataset</a></div><div class="ttdeci">static function ExportH5Dataset()</div><div class="ttdoc">ExportH5Dataset exports the entire selected dataset in .hdf5 format.</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="ae22f06bef9465e5225ea0b68cd88c17a" name="ae22f06bef9465e5225ea0b68cd88c17a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae22f06bef9465e5225ea0b68cd88c17a">&#9670;&nbsp;</a></span>GetReferenceLibrary()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static function GetReferenceLibrary </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>GetReferenceLibrary loads a library of spectral references. </p>
<p >It loads a library created previously by <code>function</code> <a class="el" href="classhsi_utility.html#a38a46d4e980e817be78b62dfddebc66b" title="PrepareReferenceLibrary reads and prepares a library of spectral references.">hsiUtility.PrepareReferenceLibrary</a> . The result is loaded from config::[matdir]\[database]\[referenceLibraryName]\[referenceLibraryName].mat. Plot with <code>function</code> <a class="el" href="classplots.html#ac0fb59474398ca03e42b1407b96702d8" title="ReferenceLibrary plots the reference spectra in the library.">plots.ReferenceLibrary</a> .</p>
<p ><b>Usage</b> </p>
<div class="fragment"><div class="line">refLib = <a class="code hl_class" href="classhsi_utility.html">hsiUtility</a>.<a class="code hl_function" href="classhsi_utility.html#ae22f06bef9465e5225ea0b68cd88c17a">GetReferenceLibrary</a>();</div>
<div class="line"><a class="code hl_class" href="classplots.html">plots</a>.<a class="code hl_function" href="classplots.html#ac0fb59474398ca03e42b1407b96702d8">ReferenceLibrary</a>(1, refLib);</div>
<div class="ttc" id="aclasshsi_utility_html_ae22f06bef9465e5225ea0b68cd88c17a"><div class="ttname"><a href="classhsi_utility.html#ae22f06bef9465e5225ea0b68cd88c17a">hsiUtility::GetReferenceLibrary</a></div><div class="ttdeci">static function GetReferenceLibrary()</div><div class="ttdoc">GetReferenceLibrary loads a library of spectral references.</div></div>
<div class="ttc" id="aclassplots_html"><div class="ttname"><a href="classplots.html">plots</a></div><div class="ttdoc">plots is a class that holds all functions for figure plotting.</div><div class="ttdef"><b>Definition:</b> plots.m:5</div></div>
<div class="ttc" id="aclassplots_html_ac0fb59474398ca03e42b1407b96702d8"><div class="ttname"><a href="classplots.html#ac0fb59474398ca03e42b1407b96702d8">plots::ReferenceLibrary</a></div><div class="ttdeci">static function ReferenceLibrary(in fig, in refLib)</div><div class="ttdoc">ReferenceLibrary plots the reference spectra in the library.</div></div>
</div><!-- fragment --><dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">refLib</td><td>[struct] | A struct that contains the reference library. The struct has fields 'Data', 'Label' (Malignant (1) or Benign (0)) and 'Disease'. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac6a2ac88ad3209e2aa3140bf7cbe34bb" name="ac6a2ac88ad3209e2aa3140bf7cbe34bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6a2ac88ad3209e2aa3140bf7cbe34bb">&#9670;&nbsp;</a></span>GetWavelengths()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static function GetWavelengths </td>
          <td>(</td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>option</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>GetWavelengths returns the wavelengths of the hyperspectral image. </p>
<p >Depending on the option, it either returns the wavelengths or the wavelength indexes of the spectral image.</p>
<p ><b>Usage</b> </p>
<div class="fragment"><div class="line">x = <a class="code hl_class" href="classhsi_utility.html">hsiUtility</a>.<a class="code hl_function" href="classhsi_utility.html#ac6a2ac88ad3209e2aa3140bf7cbe34bb">GetWavelengths</a>(m) returns wavelengths as a vector of wavelengths</div>
<div class="line"> </div>
<div class="line">x = <a class="code hl_class" href="classhsi_utility.html">hsiUtility</a>.<a class="code hl_function" href="classhsi_utility.html#ac6a2ac88ad3209e2aa3140bf7cbe34bb">GetWavelengths</a>(m, <span class="stringliteral">&#39;raw&#39;</span>) returns wavelengths as a vector of wavelengths</div>
<div class="line"> </div>
<div class="line">x = <a class="code hl_class" href="classhsi_utility.html">hsiUtility</a>.<a class="code hl_function" href="classhsi_utility.html#ac6a2ac88ad3209e2aa3140bf7cbe34bb">GetWavelengths</a>(m, <span class="stringliteral">&#39;index&#39;</span>) returns indexes respective to selected wavelengths</div>
<div class="line"> </div>
<div class="line">x = <a class="code hl_class" href="classhsi_utility.html">hsiUtility</a>.<a class="code hl_function" href="classhsi_utility.html#ac6a2ac88ad3209e2aa3140bf7cbe34bb">GetWavelengths</a>(m, <span class="stringliteral">&#39;babel&#39;</span>) returns indexes respective to selected wavelengths <span class="keywordflow">for</span> babel standard spectra</div>
<div class="ttc" id="aclasshsi_utility_html_ac6a2ac88ad3209e2aa3140bf7cbe34bb"><div class="ttname"><a href="classhsi_utility.html#ac6a2ac88ad3209e2aa3140bf7cbe34bb">hsiUtility::GetWavelengths</a></div><div class="ttdeci">static function GetWavelengths(in m, in option)</div><div class="ttdoc">GetWavelengths returns the wavelengths of the hyperspectral image.</div></div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td>[int] | The total number of spectral channels </td></tr>
    <tr><td class="paramname">option</td><td>[char] | The option for return value. Can be 'raw', 'index', 'babel' or empty.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">x</td><td>[numeric array] | An array of wavelengths or wavelength indexes </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1bb8c2a28e270c0623ab809d1aa7862b" name="a1bb8c2a28e270c0623ab809d1aa7862b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bb8c2a28e270c0623ab809d1aa7862b">&#9670;&nbsp;</a></span>LoadHsiAndLabel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static function LoadHsiAndLabel </td>
          <td>(</td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>targetID</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>LoadHsiAndLabel loads both hsi and <a class="el" href="classhsi_info.html" title="hsiInfo is a class that holds tumor labels and diagnosis information.">hsiInfo</a> objects. </p>
<p >The hsi and <a class="el" href="classhsi_info.html" title="hsiInfo is a class that holds tumor labels and diagnosis information.">hsiInfo</a> objects should have been initialized beforehand with <a class="el" href="classhsi_utility.html#a682a0948281f0c712db7ba065f1022b1" title="ReadDataset reads the dataset.">hsiUtility.PrepareDataset()</a>.</p>
<p ><b>Usage</b> </p>
<div class="fragment"><div class="line">[spectralData, labelInfo] = <a class="code hl_class" href="classhsi_utility.html">hsiUtility</a>.<a class="code hl_function" href="classhsi_utility.html#a1bb8c2a28e270c0623ab809d1aa7862b">LoadHsiAndLabel</a>(<span class="stringliteral">&#39;150&#39;</span>);</div>
<div class="ttc" id="aclasshsi_utility_html_a1bb8c2a28e270c0623ab809d1aa7862b"><div class="ttname"><a href="classhsi_utility.html#a1bb8c2a28e270c0623ab809d1aa7862b">hsiUtility::LoadHsiAndLabel</a></div><div class="ttdeci">static function LoadHsiAndLabel(in targetID)</div><div class="ttdoc">LoadHsiAndLabel loads both hsi and hsiInfo objects.</div></div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">targetId</td><td>[char] | The unique ID of the target sample</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">spectralData</td><td>[hsi] | The initialized hsi object </td></tr>
    <tr><td class="paramname">labelInfo</td><td>[<a class="el" href="classhsi_info.html" title="hsiInfo is a class that holds tumor labels and diagnosis information.">hsiInfo</a>] | The initialized <a class="el" href="classhsi_info.html" title="hsiInfo is a class that holds tumor labels and diagnosis information.">hsiInfo</a> object </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa7e99c886a5e9791ea9a74f843d54fe5" name="aa7e99c886a5e9791ea9a74f843d54fe5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7e99c886a5e9791ea9a74f843d54fe5">&#9670;&nbsp;</a></span>LoadHSIReference()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static function LoadHSIReference </td>
          <td>(</td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>targetId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>refType</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>LoadHSIReference reads the reference hyperspectral image (white or black). </p>
<p >It is valid for hyperspectral data already saved as .mat files in config::[matdir]\[tripletsName]\*_white.mat or *_black.mat. The returned reference image is a 3D array, not an hsi instance.</p>
<p ><b>Usage</b> </p>
<div class="fragment"><div class="line">[spectralData] = <a class="code hl_class" href="classhsi_utility.html">hsiUtility</a>.<a class="code hl_function" href="classhsi_utility.html#aa7e99c886a5e9791ea9a74f843d54fe5">LoadHSIReference</a>(<span class="stringliteral">&#39;150&#39;</span>, <span class="stringliteral">&#39;white&#39;</span>);</div>
<div class="line"> </div>
<div class="line">[spectralData] = <a class="code hl_class" href="classhsi_utility.html">hsiUtility</a>.<a class="code hl_function" href="classhsi_utility.html#aa7e99c886a5e9791ea9a74f843d54fe5">LoadHSIReference</a>(<span class="stringliteral">&#39;150&#39;</span>, <span class="stringliteral">&#39;black&#39;</span>);</div>
<div class="ttc" id="aclasshsi_utility_html_aa7e99c886a5e9791ea9a74f843d54fe5"><div class="ttname"><a href="classhsi_utility.html#aa7e99c886a5e9791ea9a74f843d54fe5">hsiUtility::LoadHSIReference</a></div><div class="ttdeci">static function LoadHSIReference(in targetId, in refType)</div><div class="ttdoc">LoadHSIReference reads the reference hyperspectral image (white or black).</div></div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">targetId</td><td>[char] | The unique ID of the target sample </td></tr>
    <tr><td class="paramname">refType</td><td>[char] | The reference type, either 'white' or 'black'</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">spectralData</td><td>[numeric array] | A 3D array of the hyperspectral image reference </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac23da506cbad781848029a1397a64d35" name="ac23da506cbad781848029a1397a64d35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac23da506cbad781848029a1397a64d35">&#9670;&nbsp;</a></span>LoadRaw()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static function LoadRaw </td>
          <td>(</td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>targetID</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>LoadRaw loads the raw hyperspectral image. </p>
<p >The raw image is loaded from config::[matDir]\[tripletsName]\*_target.mat.</p>
<p ><b>Usage</b> </p>
<div class="fragment"><div class="line">[spectralData] = <a class="code hl_class" href="classhsi_utility.html">hsiUtility</a>.<a class="code hl_function" href="classhsi_utility.html#ac23da506cbad781848029a1397a64d35">LoadRaw</a>(targetID);</div>
<div class="ttc" id="aclasshsi_utility_html_ac23da506cbad781848029a1397a64d35"><div class="ttname"><a href="classhsi_utility.html#ac23da506cbad781848029a1397a64d35">hsiUtility::LoadRaw</a></div><div class="ttdeci">static function LoadRaw(in targetID)</div><div class="ttdoc">LoadRaw loads the raw hyperspectral image.</div></div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">targetId</td><td>[char] | The unique ID of the target sample</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">spectralData</td><td>[numeric array] | A 3D array of the hyperspectral image reference </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a682a0948281f0c712db7ba065f1022b1" name="a682a0948281f0c712db7ba065f1022b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a682a0948281f0c712db7ba065f1022b1">&#9670;&nbsp;</a></span>PrepareDataset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static function PrepareDataset </td>
          <td>(</td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>varargin</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>ReadDataset reads the dataset. </p>
<p >ReadDataset reads a group of hsi data according to condition, prepares .mat files for the raw spectral data, applies preprocessing and returns montage previews of the results. It also prepares labels, when available.</p>
<p >Data samples are saved in .mat files so that one contains a 'spectralData' (class hsi) and another contains a 'labelInfo' (class <a class="el" href="classhsi_info.html" title="hsiInfo is a class that holds tumor labels and diagnosis information.">hsiInfo</a>) variable. The save location is config::[matDir]\[dataset]\*.mat. Snapshot images are saved in config::[outputDir]\[snapshotsFolderName]\[dataset]\*.jpg.</p>
<p ><b>Usage</b> </p>
<div class="fragment"><div class="line"><a class="code hl_class" href="classhsi_utility.html">hsiUtility</a>.<a class="code hl_function" href="classhsi_utility.html#a682a0948281f0c712db7ba065f1022b1">PrepareDataset</a>(<span class="stringliteral">&#39;handsDataset&#39;</span>,{<span class="stringliteral">&#39;hand&#39;</span>, <span class="keyword">false</span>});</div>
<div class="line"> </div>
<div class="line"><a class="code hl_class" href="classhsi_utility.html">hsiUtility</a>.<a class="code hl_function" href="classhsi_utility.html#a682a0948281f0c712db7ba065f1022b1">PrepareDataset</a>(<span class="stringliteral">&#39;pslData&#39;</span>, {<span class="stringliteral">&#39;tissue&#39;</span>, <span class="keyword">true</span>});</div>
<div class="ttc" id="aclasshsi_utility_html_a682a0948281f0c712db7ba065f1022b1"><div class="ttname"><a href="classhsi_utility.html#a682a0948281f0c712db7ba065f1022b1">hsiUtility::PrepareDataset</a></div><div class="ttdeci">static function PrepareDataset(in varargin)</div><div class="ttdoc">ReadDataset reads the dataset.</div></div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dataset</td><td>[char] | The dataset </td></tr>
    <tr><td class="paramname">condition</td><td>[cell array] | The conditions for reading files </td></tr>
    <tr><td class="paramname">readForeground</td><td>[boolean] | Optional: Flag to read the foreground mask for an hsi instance. Default: true </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a38a46d4e980e817be78b62dfddebc66b" name="a38a46d4e980e817be78b62dfddebc66b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38a46d4e980e817be78b62dfddebc66b">&#9670;&nbsp;</a></span>PrepareReferenceLibrary()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static function PrepareReferenceLibrary </td>
          <td>(</td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>refIDs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>PrepareReferenceLibrary reads and prepares a library of spectral references. </p>
<p >It can be used for various comparisons, including Spectral Angle Mapper (SAM) calculation. The result is saved in config::[matdir]\[database]\[referenceLibraryName]\[referenceLibraryName].mat. After creating it can be loaded with <code><a class="el" href="classhsi_utility.html#ae22f06bef9465e5225ea0b68cd88c17a" title="GetReferenceLibrary loads a library of spectral references.">hsiUtility.GetReferenceLibrary</a></code>.</p>
<p ><b>Usage</b> </p>
<div class="fragment"><div class="line">referenceIDs = {153, 166};</div>
<div class="line">refLib = <a class="code hl_class" href="classhsi_utility.html">hsiUtility</a>.<a class="code hl_function" href="classhsi_utility.html#a38a46d4e980e817be78b62dfddebc66b">PrepareReferenceLibrary</a>(referenceIDs);</div>
<div class="ttc" id="aclasshsi_utility_html_a38a46d4e980e817be78b62dfddebc66b"><div class="ttname"><a href="classhsi_utility.html#a38a46d4e980e817be78b62dfddebc66b">hsiUtility::PrepareReferenceLibrary</a></div><div class="ttdeci">static function PrepareReferenceLibrary(in refIDs)</div><div class="ttdoc">PrepareReferenceLibrary reads and prepares a library of spectral references.</div></div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">refIDs</td><td>[cell array] | A cell array of strings that includes all target reference IDs for samples to be included in the library.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">refLib</td><td>[struct] | A struct that contains the reference library. The struct has fields 'Data', 'Label' (Malignant (1) or Benign (0)) and 'Disease'. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0a3aaf34f5078a9bb8f6a803eed38137" name="a0a3aaf34f5078a9bb8f6a803eed38137"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a3aaf34f5078a9bb8f6a803eed38137">&#9670;&nbsp;</a></span>ReadH5()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static function ReadH5 </td>
          <td>(</td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>ReadH5 loads the hyperspectral image from an .h5 file. </p>
<p >The .h5 data are assumed to be saved in config::[dataDir]\*.h5. After reading, the image is saved in config::[matDir]\[database]\*.mat.</p>
<p ><b>Usage</b> </p>
<div class="fragment"><div class="line">[spectralData, imageXYZ, wavelengths] = <a class="code hl_class" href="classhsi_utility.html">hsiUtility</a>.<a class="code hl_function" href="classhsi_utility.html#a0a3aaf34f5078a9bb8f6a803eed38137">ReadH5</a>(filename);</div>
<div class="ttc" id="aclasshsi_utility_html_a0a3aaf34f5078a9bb8f6a803eed38137"><div class="ttname"><a href="classhsi_utility.html#a0a3aaf34f5078a9bb8f6a803eed38137">hsiUtility::ReadH5</a></div><div class="ttdeci">static function ReadH5(in filename)</div><div class="ttdoc">ReadH5 loads the hyperspectral image from an .h5 file.</div></div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>[char] | The filename of the file to read</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">spectralData</td><td>[numeric array] | The hyperspectral image </td></tr>
    <tr><td class="paramname">imageXYZ</td><td>[numeric array] | The XYZ image </td></tr>
    <tr><td class="paramname">wavelengths</td><td>[numeric array] | The spectral wavelengths </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a149b306c9267ea9b0993d3eb50d8e9d4" name="a149b306c9267ea9b0993d3eb50d8e9d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a149b306c9267ea9b0993d3eb50d8e9d4">&#9670;&nbsp;</a></span>ReadTriplet()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static function ReadTriplet </td>
          <td>(</td>
          <td class="paramtype">in&#160;</td>
          <td class="paramname"><em>varargin</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>ReadTriplet reads and saves the three hyperspectral images. </p>
<p >The hyperspectral data are saved in .h5 format. The raw, white and black (if exist) images are read one-by-one for the same target. Each HSI is saved in config::[matDir]\[database]\[tripletsName]\*_xxx.mat, where xxx is either '_target', '_white' or '_black'.</p>
<p >To chose a mask for uni spectrum normalization, set config::['useCustomMask']</p>
<p ><b>Usage</b> </p>
<div class="fragment"><div class="line">content = <span class="stringliteral">&#39;tissue&#39;</span>;</div>
<div class="line">target = <span class="stringliteral">&#39;001_raw&#39;</span>;</div>
<div class="line">spectralData = <a class="code hl_class" href="classhsi_utility.html">hsiUtility</a>.<a class="code hl_function" href="classhsi_utility.html#a149b306c9267ea9b0993d3eb50d8e9d4">ReadTriplet</a>(content, target);</div>
<div class="line"> </div>
<div class="line">spectralData = <a class="code hl_class" href="classhsi_utility.html">hsiUtility</a>.<a class="code hl_function" href="classhsi_utility.html#a149b306c9267ea9b0993d3eb50d8e9d4">ReadTriplet</a>(content, target, blackIsCapOn);</div>
<div class="ttc" id="aclasshsi_utility_html_a149b306c9267ea9b0993d3eb50d8e9d4"><div class="ttname"><a href="classhsi_utility.html#a149b306c9267ea9b0993d3eb50d8e9d4">hsiUtility::ReadTriplet</a></div><div class="ttdeci">static function ReadTriplet(in varargin)</div><div class="ttdoc">ReadTriplet reads and saves the three hyperspectral images.</div></div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">content</td><td>[cell array] | Contains the content to be imported </td></tr>
    <tr><td class="paramname">target</td><td>[char] | Contains the target to be imported </td></tr>
    <tr><td class="paramname">blackIsCapOn</td><td>[logical] | Flag about the use of blackCap for dark image</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">spectralData</td><td>[numeric array] | The target (tissue) hyperspectral image </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>C:/Users/foxel/Desktop/test/tools/hsiUtility/<a class="el" href="hsi_utility_8m.html">hsiUtility.m</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
